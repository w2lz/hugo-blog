---
title: 29 | 如何判断一个数据库是不是出问题了？
subtitle:
date: 2025-02-23T22:58:44+08:00
draft: false
description: 这篇文章介绍了如何判断数据库健康状态以及相应的监控和应对措施。
categories:
  - MySQL 实战 45 讲
  - MySQL
tags:
  - MySQL 实战 45 讲
  - MySQL
hiddenFromHomePage: false
hiddenFromSearch: false
hiddenFromFeed: false
hiddenFromRelated: false
toc: true
math: false
lightgallery: false
---

{{< admonition quote "摘要" true >}}
这篇文章介绍了如何判断数据库健康状态以及相应的监控和应对措施。首先讲解了主备切换的流程，包括主动切换和被动切换。重点讨论了如何判断主库是否出现问题，指出了简单的 select 1 并不能完全判断主库的正常运行状态。文章详细介绍了 InnoDB 的并发线程控制参数 innodb_thread_concurrency 的作用，以及如何通过设置一个健康检查表来检测并发线程数过多导致的数据库不可用情况。同时，提到了当 binlog 所在磁盘空间满了以后，更新语句和事务提交的影响，以及如何改进监控语句来应对这种情况。
{{< /admonition >}}

<!--more-->

## select 1 判断

## 查表判断

## 更新判断

## 内部统计

## 小结

## 问题
